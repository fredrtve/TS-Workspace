<app-main-skeleton>

  <app-main-top-nav-bar navbar [config]="navConfig" stylingClass="bg-primary">
  </app-main-top-nav-bar>

  <div class="pl-1 pr-1 pb-1 max-width" *ngIf="users$ | async else loading; let users;">

    <app-user-card *ngFor="let user of users; trackBy: trackByUser" 
      [user]="user"
      [editButton]="{
        icon: 'edit', 
        allowedRoles: [Roles.Leder], 
        callback: openUserForm, params: [user.userName],
        type: ButtonTypes.Icon
      }"
      [newPasswordButton]="{
        icon: 'vpn_key', 
        colorClass: 'color-accent',
        allowedRoles: [Roles.Leder], 
        callback: openNewPasswordForm, params: [user.userName],
        type: ButtonTypes.Icon
      }">
    </app-user-card>

  </div>
  
</app-main-skeleton>

<ng-template #loading>
  <mat-spinner class="center-spinner" color="accent"></mat-spinner>
</ng-template>

