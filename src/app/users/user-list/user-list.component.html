<app-main-nav>

  <div class="static-page-container" fxLayout="column" fxLayoutGap="8px">

    <div  fxFlex="10" class="content-header">
      <div fxFlex fxLayout="row" fxLayoutAlign="space-between center">
        <span>Brukere</span>
        <button (click)="createUser()" color="primary" *ifRole="[ROLES.Leder]"
          mat-icon-button aria-label="ny">
          <mat-icon class="icon_125">person_add</mat-icon>
        </button>
      </div>
    </div>

    <mat-divider></mat-divider>

    <div class="static-page-content" fxFlex="90">
      <mat-spinner *ngIf="!users" class="center-spinner"></mat-spinner>
      <mat-nav-list *ngIf="users" class="p-0">
        <app-nav-list-item
          *ngFor="let user of users; last as last" [last]="last"
          (click)="(currentUser.role == ROLES.Leder && user.role != ROLES.Leder) ? editUser(user.userName) : ''"
          [config]="{
            mainLine: (user.firstName + ' ' + user.lastName),
            startIcon: (user.role == ROLES.Oppdragsgiver) ? 'work' : 'person',
            endIcon: (currentUser.role == ROLES.Leder && user.role != ROLES.Leder) ? 'edit' : '',
            subLines: [{name: user.phoneNumber || 'Ingen kontaktnummer', icon: 'phone'}]
          }">
        </app-nav-list-item>
      </mat-nav-list>
    </div>

  </div>

</app-main-nav>

