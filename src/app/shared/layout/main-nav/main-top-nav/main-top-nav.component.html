<mat-toolbar *ngIf="config" class="toolbar-slim color-foreground" style="background:inherit">
   
    <app-icon-button *ngIf="config.backFn else menuBtn" 
    [config]="{
      callback: config.backFn, 
      params: config.backFnParams,
      aria: 'Tilbake',
      icon: 'chevron_left',
      iconSizeClass: 'scale-150'}">
    </app-icon-button>
    
    <ng-template #menuBtn>
      <button mat-icon-button aria-label="Toggle sidenav" (click)="onMenuButtonClick()"
        fxHide fxShow.xs>
        <mat-icon aria-label="Side nav toggle icon">menu</mat-icon>
      </button>
    </ng-template>
      
    <span class="mr-auto">
      <ng-container *ngIf="config.title">
        <span *ngIf="!config.backFn else noLinkTitle" class="ml-1" [routerLink]="['/hjem']">{{ config.title }}</span>
        <ng-template #noLinkTitle><span class="ml-1">{{ config.title }}</span></ng-template>
      </ng-container>
      <mat-icon *ngIf="config.subIcon" class="scale-75">{{ config.subIcon }}</mat-icon>
      <span class="ml-1 mat-caption" >{{ config.subTitle }}</span>
    </span>

    <mat-spinner *ngIf="loading$ |  async" diameter="24" color="accent"></mat-spinner>
 
    <app-icon-button *ngFor="let button of config.buttons" [config]="button"></app-icon-button>

    <button mat-icon-button *ngIf="config.bottomSheetButtons?.length" (click)="openBottomSheet(config.bottomSheetButtons)">
      <mat-icon>more_vert</mat-icon>
    </button>

</mat-toolbar>