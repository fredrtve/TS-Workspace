<ng-container *ngIf="vm$ | async; let vm">
  <div class="h-100" fxLayout="row" fxLayoutAlign="start stretch" 
    (swiperight)="previousWeek(vm.dateParams)" 
    (swipeleft)="nextWeek(vm.dateParams)">

    <ng-container *ngFor="let weekDay of ((isXs$ | async) ? 5 : 7) | arrayFromNumber"> 

        <div class="w-100" fxLayout="column" fxLayoutAlign="start center">

          <app-timesheet-day-label class="w-100 mb-1 fadeInDown" style="z-index:1"
            [date]="vm.dateParams | getDateByDateParams : weekDay"
            (labelClicked)="openTimesheetForm($event)">
          </app-timesheet-day-label>

          <div class="w-100" style="padding: 0 2px 0 2px; z-index:0"
            fxLayout="column" fxLayoutAlign="start center" fxFlex>
              <app-timesheet-mission-bar class="w-100 mb-1 fadeInDown"
                *ngFor="let timesheet of vm.days[weekDay] | sortByDate: 'startTime';" 
                [timesheet]="timesheet"
                (barClicked)="timesheet.status ? openTimesheetCard($event) : openTimesheetForm(undefined, $event)"
                [style.height.px]="(timesheet.totalHours / 14)*300">
              </app-timesheet-mission-bar>
          </div>

        </div>
        
        <mat-divider vertical="true" *ngIf="weekDay !== 7"></mat-divider>
    </ng-container>

  </div>
</ng-container>

<router-outlet></router-outlet>
