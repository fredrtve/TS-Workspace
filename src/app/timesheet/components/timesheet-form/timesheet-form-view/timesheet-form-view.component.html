<form fxLayout="column" fxLayoutAlign="start stretch" *ngIf="timesheetForm" [formGroup]="timesheetForm">
  <mat-form-field>
    <input matInput placeholder="Oppdrag" formControlName="mission" aria-label="Velg oppdrag" [matAutocomplete]="auto1">
    <mat-autocomplete #auto1="matAutocomplete" [displayWith]="displayMissionAddress">
      <mat-option *ngFor="let mission of missions" [value]="mission">
        ({{ mission.id }}) {{ mission.address }}
      </mat-option>
    </mat-autocomplete>
  </mat-form-field>

  <span fxLayout="row" fxLayoutAlign="space-between start">
    <label fxFlex=46>
      <mat-form-field class="w-100">
        <input matInput placeholder="Dato" formControlName="date" aria-label="Velg dato" required
          [owlDateTimeTrigger]="d3" [owlDateTime]="d3">
      </mat-form-field>
      <owl-date-time [pickerMode]="'dialog'" [pickerType]="'calendar'" #d3></owl-date-time>
    </label>

    <label fxFlex=46>
      <mat-form-field class="w-100">
        <input matInput placeholder="Arbeidstid" formControlName="timeRange" required selectMode="range"
          [owlDateTimeTrigger]="t1" [owlDateTime]="t1">
      </mat-form-field>
      <owl-date-time [pickerType]="'timer'" [pickerMode]="'dialog'" stepMinute="15" [startAt]="timesheet?.startTime || initTime" #t1>
      </owl-date-time>
    </label>
  </span>

  <mat-form-field>
    <textarea matInput placeholder="Kommentar" formControlName="comment" aria-label="Kommentar" required
      maxlength="400"></textarea>
  </mat-form-field>

  <button appHttpCommandButton mat-raised-button class="w-100" color="primary" 
    [disabled]="timesheetForm.invalid || timesheetForm.pristine"
    (click)="onSubmit()">
    {{ isCreateForm ? 'Legg til' : 'Oppdater' }} 
  </button>
</form>