<ng-container *ngIf="vm$ | async; let vm">

  <div *ngIf="vm.isSmall; else desktop" class="login-container">

    <div class="header-container">
      <div class="image-container" style="background-image: url('assets/login.jpg?');"></div>

      <div class="logo-container">
        <img src="assets/icons/icon-72x72.png" alt="Logo bilde" />

        <span class="mat-body-strong logo-text">{{ companyName }}</span>
      </div>

    </div>

    <app-login-form [disabled]="vm.formDisabled" (submitted)="authenticate($event)"></app-login-form>

  </div>

  <ng-template #desktop>
    <div class="login-container-desktop">
      <div class="image-container" style="background-image: url('assets/login.jpg?');"></div>
      <div class="form-container">

        <div class="logo-container">
          <img src="assets/icons/icon-128x128.png" alt="Logo bilde" />

          <span class="mat-title logo-text mt-2">{{ companyName }}</span>
        </div>

        <app-login-form [disabled]="vm.formDisabled" (submitted)="authenticate($event)"></app-login-form>
      </div>
    </div>
  </ng-template>

</ng-container>

<div #demoPanel class="pt-2 pb-4 pl-4 pr-4" *ngIf="isDemo"
  style="position:fixed;top:16px;right:16px;background: rgba(0,0,0,.5);color:white;display:flex;flex-direction:column">
  <span>
    <span class="mat-body-2" style="text-align: center;">Demo logg inn</span>
    <button mat-icon-button style="margin-left:auto;margin-right:-12px"
      (click)="demoPanel.style.display = 'none'">
      <mat-icon>close</mat-icon>
    </button>
  </span>
  <button (click)="authenticate({userName: 'leder', password: 'passord1'})" mat-flat-button class="mt-2">Leder</button>
  <button (click)="authenticate({userName: 'mellomleder', password: 'passord1'})" mat-flat-button class="mt-2">Mellomleder</button>
  <button (click)="authenticate({userName: 'ansatt', password: 'passord1'})" mat-flat-button class="mt-2">Ansatt</button>
  <button (click)="authenticate({userName: 'oppdragsgiver', password: 'passord1'})" mat-flat-button class="mt-2">Oppdragsgiver</button>
</div>


