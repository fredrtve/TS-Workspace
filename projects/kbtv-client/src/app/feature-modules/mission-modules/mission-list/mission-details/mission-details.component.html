<app-main-skeleton *ngIf="vm$ | async; let vm" paddingDisabled=true>
    
    <app-header-layout-skeleton [navConfig]="vm.navConfig" [navOverlayDisabled]="!vm.mission?.fileName">

        <img header appImageErrorReloader #img *ngIf="vm.mission?.fileName; else addHeaderImage"
            (click)="openImageViewer(vm.mission)"
            style="max-width:100%" [src]="vm.mission | appFileUrl: 'missionheader'" 
            (error)="img.src = '/assets/notfound.png?'" alt="Forsidebilde" />

        <app-mission-header contentHeader [mission]="vm.mission">
        </app-mission-header>

        <app-mission-details-view content [mission]="vm.mission">
        </app-mission-details-view>

    </app-header-layout-skeleton>
     
</app-main-skeleton>
  
<input type="file" style="display:none" #imageInput (change)="updateHeaderImage($event.target.files)">


<ng-template #addHeaderImage>
    <app-button [config]="addHeaderImgBtn | transformButton : ButtonTypes.Stroked">
    </app-button>
</ng-template>
